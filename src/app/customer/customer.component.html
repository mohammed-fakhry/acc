<!--fadeLayer-->
<div class="fadeLayer">
    <!--askForDelete-->
    <div class="container p-3 card askForDelete" style="display: none;">
        <h3 class="p-3 bg-danger text-light">هل انت متأكد من حذف</h3>
        <hr>
        <h4 class="mb-4">{{customerData.value.customerName}}</h4>
        <div class="d-flex flex-row-reverse">
            <button class="btn btn-danger mr-2" id="deletCustomer" (click)="deletCustomer()">نعم</button>
            <button class="btn btn-info" id="hideFadeLayer">الغاء</button>
        </div>
    </div>
    <!--app-customer-inv-detail-->
    <app-customer-inv-detail class="container p-3 card" id="customerInvDetail" style="display: none; margin-top: 10%;">
    </app-customer-inv-detail>
</div>
<!--customerHeader-->
<div class="container-fluid  p-3 card bg-light mt-3 sticky-top">
    <nav class="navbar navbar-light bg-light">
        <div class="form-inline">
            <button class="btn btn-success d-none" (click)='makeCustomerInvArry()'>test</button>
            <h1 class="px-2" style="font-weight: bold;">العملاء</h1>
            <div class="headerLeftBorder"></div>
            <button class="btn btn-info mx-2" style="height: 70px;" id="showAddCustomerBtn"
                (click)="ShowAddNewCustomer()">اضافة</button>
            <button class="btn btn-light mx-2" style="height: 70px; font-size: 1.5em;" id="customerEnquirybtn"
                (click)="showCustomerEnquiry()">استعلام</button>
            <div class="headerLeftBorder"></div>
            <input *ngIf="router.url === '/customers'" [(ngModel)]="searchCust" placeholder="بحث"
                class="form-control mx-3">
        </div>
    </nav>
</div>
<!--customerEnquiry-->
<div class="container-fluid card  mt-3 p-5 customerClass" id="customerEnquiry">
    <div class="panel-body panel-flex-table">
        <table class="flex-table table table-hover">
            <thead class="bg-dark text-light">
                <tr>
                    <th>الاسم</th>
                    <th>تليفون</th>
                    <th>الوحدة</th>
                    <th>تاريخ التعاقد</th>
                    <th>بيانات</th>
                    <th>تعديل</th>
                    <th>حذف</th>
                </tr>
            </thead>
            <tbody class=" mt-3">
                <tr *ngFor="let customer of customers|searchCustomer:searchCust; let i=index">
                    <td *ngIf="customer.customerName != '-'">{{customer.customerName}}</td>
                    <td *ngIf="customer.customerName != '-'">{{customer.customerTell}}</td>
                    <td *ngIf="customer.customerName != '-'">{{customer.customerUnit}}</td>
                    <td *ngIf="customer.customerName != '-'">{{customer.customerDateIN}}</td>
                    <td *ngIf="customer.customerName != '-'"><button class="btn btn-light ml-2" id="showCustomerCard" (click)="showCustomerCard(customer)"><i
                                class="fa fa-id-card"></i></button></td>
                    <td *ngIf="customer.customerName != '-'"><button class="btn btn-success ml-2" id="showUpdatecustomer"
                            (click)="showUpdateCustomer(customer)"><i class="fa fa-edit"></i></button></td>
                    <td *ngIf="customer.customerName != '-'"><button class="btn btn-danger ml-2" id="askDeletcustomerBtn" (click)="askForDelete(customer)"><i
                                class="fa fa-trash"></i></button></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<!--addCustomer-->
<div class="container-fluid  mt-3 card inpCard customerClass" id="addCustomer" style="display: none;">
    <div class="p-3">
        <h2 class="pb-3 cardHeader" style="border-bottom: solid 1.5px teal;">اضافة بيانات عميل</h2>
        <form [formGroup]='customerData' (ngSubmit)="addNewCustomer()" class="pt-3">
            <div class="row">
                <input formControlName="customerId" id="customerId" class="form-control d-none">
                <div class="form-group col-md-6">
                    <label>الاسم</label>
                    <input formControlName="customerName" id="customerName" class="form-control">
                    <!--[(ngModel)]="customerDataView.customerName"-->
                </div>
                <div class="form-group col-md-6">
                    <label>تليفون</label>
                    <input formControlName="customerTell" id="customerTell" class="form-control">
                    <!--[(ngModel)]="customerDataView.customerTell"-->
                </div>
            </div>
            <div class="form-group">
                <label>العنوان</label>
                <input formControlName="customerAdd" id="customerAdd" class="form-control">
                <!--[(ngModel)]="customerDataView.customerAdd"-->
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>الوحدة</label>
                    <input formControlName="customerUnit" id="customerUnit" class="form-control">
                    <!--[(ngModel)]="customerDataView.customerUnit"-->
                </div>
                <div class="form-group col-md-6">
                    <label>تاريخ التعاقد</label>
                    <input formControlName="customerDateIN" id="customerDateIN" class="form-control">
                    <!--[(ngModel)]="customerDataView.customerDateIN"-->
                </div>
            </div>
            <button class="btn btn-primary ml-2" type="submit" id="addNewCustomerBtn"></button>
        </form>
    </div>
</div>
<!--customerDetails-->
<div class="container-fluid card mt-3 customerClass" id="customerDetails" style="display: none;">
    <div class="card-body">
        <h3 class="card-title cardHeader">{{customerData.value.customerName}}</h3>
        <h5 class="card-text pb-3" style="border-bottom: solid 1.5px teal;">{{customerData.value.customerTell}}</h5>
        <!---->
        <div class="form-inline mt-3">
            <h5 class="cardHeader">العنوان : </h5>
            <h5 class="mr-2">{{customerData.value.customerAdd}}</h5>
        </div>
        <hr class="text-center">
        <!---->
        <div class="form-inline">
            <h5 class="cardHeader">الوحدة : </h5>
            <h5 class="mr-2">{{customerData.value.customerUnit}}</h5>
        </div>
        <hr class="text-center">
        <!---->
        <div class="row">
            <div class="col-md-4">
                <div class="form-inline">
                    <h5 class="cardHeader">تاريخ التعاقد : </h5>
                    <h5 class="mr-2">{{customerData.value.customerDateIN}}</h5>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-inline">
                    <h5 class="cardHeader">اجمالى مدفوعات : </h5>
                    <h5 class="mr-2">{{customerData.value.customerPaid}}</h5>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-inline">
                    <h5 class="cardHeader">اجمالى مستحق : </h5>
                    <h5 class="mr-2">{{customerData.value.customerRemain}}</h5>
                </div>
            </div>
        </div>
        <!---->
    </div>
</div>
<!--customerInvDetails-->
<div class="container-fluid card  mt-3 p-5 customerClass" id="customerInvDetails" style="display: none;">
    <div class="panel-body panel-flex-table">
        <table class="flex-table table table-hover">
            <thead class="bg-dark text-light">
                <tr>
                    <th>تفاصيل الفاتورة</th>
                    <th>دائن</th>
                    <th>مدين</th>
                    <th>صافى</th>
                </tr>
            </thead>
            <tbody class=" mt-3">
                <tr *ngFor="let invoice of customerInvArry; let i=index">
                    <td class="mr-2"><button class="btn btn-light ml-2" id="showCustomerInvoice"
                            (click)="showCustomerInvoice(invoice)"><i class="fa fa-id-card"></i></button></td>
                    <td id="invoiceTotalAdd{{i}}">{{invoice.invoiceTotalAdd}}</td>
                    <td id="invoiceTotalMin{{i}}">{{invoice.invoiceTotalMin}}</td>
                    <td id="netTotal{{i}}">{{invoice.netTotal}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>